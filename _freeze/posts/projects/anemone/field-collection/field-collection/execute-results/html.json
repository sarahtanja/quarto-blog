{
  "hash": "b0585123c2cab150484131d156b6c940",
  "result": {
    "markdown": "---\ntitle: \"Field collection at Owens Beach, Point Defiance Park, Tacoma\"\nauthor: \"Sarah Tanja\"\ndate: '03/18/2024'\ncategories: [anemones]\ndraft: false\ntoc: true\ntoc-title: Contents <i class=\"bi bi-bookmark-heart\"></i>\ntoc-depth: 5\ntoc-location: left\ncitation-location: margin\nlink-external-icon: true\nlink-external-newwindow: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n## install packages\nif (!require(\"tidyverse\", character.only = TRUE)) { install.packages(\"tidyverse\")}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: tidyverse\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyverse' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'purrr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'forcats' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'lubridate' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nif (!require(\"leaflet\", character.only = TRUE)){ install.packages(\"leaflet\")}\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: leaflet\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'leaflet' was built under R version 4.2.3\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n## load libraries\nlibrary(tidyverse)\nlibrary(leaflet)\n```\n:::\n\n\n# Data sheet\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanemone_collection <- read_csv('anemone-collections.csv',\n                               col_types = cols(\n                                 date = col_date(format = \"%m/%d/%Y\"),\n                                 timePST = col_time(format = \"%H:%M\"),\n                                 site = col_character(),\n                                 rock = col_factor(),\n                                 lat = col_double(),\n                                 lon = col_double()\n                               ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(anemone_collection)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  date       timePST site          rock    lat   lon\n  <date>     <time>  <chr>         <fct> <dbl> <dbl>\n1 2024-03-18 18:27   PointDefiance 1      47.3 -123.\n2 2024-03-18 18:33   PointDefiance 2      47.3 -123.\n3 2024-03-18 18:40   PointDefiance 3      47.3 -123.\n4 2024-03-18 18:45   PointDefiance 4      47.3 -123.\n5 2024-03-18 18:54   PointDefiance 5      47.3 -123.\n6 2024-03-18 19:00   PointDefiance 6      47.3 -123.\n```\n:::\n\n```{.r .cell-code}\noptions(digits = 9)\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npdp <- leaflet() %>% # pdp stands for point defiance park \n   addTiles() %>% \n   setView( lng = -122.53, lat = 47.31, zoom = 14 ) %>% \n   addProviderTiles(\"Esri.WorldImagery\") #Esri World Imagery tiles\npdp\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-3f7557a40ee58bc9d48a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3f7557a40ee58bc9d48a\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addProviderTiles\",\"args\":[\"Esri.WorldImagery\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]}],\"setView\":[[47.31,-122.53],14,[]]},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Prepare the text for the tooltip:\nmytext <- paste(\n   \"Rock: \", anemone_collection$rock, \"<br/>\", \n   \"Date: \", anemone_collection$date) %>%\n  lapply(htmltools::HTML)\n\n# Final Map\npdp <- leaflet(anemone_collection) %>% \n  addTiles()  %>% \n  setView( lng = -122.53, lat = 47.31, zoom = 14 ) %>% \n  addProviderTiles(\"Esri.WorldImagery\") %>% \n  addCircleMarkers(~lon, ~lat, \n    fillColor = \"orange\", fillOpacity = 0.7, color=\"white\", radius=8, stroke=FALSE,\n    label = mytext,\n    labelOptions = labelOptions( style = list(\"font-weight\" = \"normal\", padding = \"3px 8px\"), textsize = \"13px\", direction = \"auto\")\n  )\n\npdp\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-e1291be0c6521da43af6\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e1291be0c6521da43af6\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"https://openstreetmap.org/copyright/\\\">OpenStreetMap<\\/a>,  <a href=\\\"https://opendatacommons.org/licenses/odbl/\\\">ODbL<\\/a>\"}]},{\"method\":\"addProviderTiles\",\"args\":[\"Esri.WorldImagery\",null,null,{\"errorTileUrl\":\"\",\"noWrap\":false,\"detectRetina\":false}]},{\"method\":\"addCircleMarkers\",\"args\":[[47.3181099,47.3181354,47.3180886,47.3183079,47.3183088,47.3184581,47.3186718,47.3187457,47.3181677,47.3182206,47.3186,47.3188023],[-122.5371926,-122.5374702,-122.537428,-122.538468,-122.538761,-122.5394249,-122.5402986,-122.5417648,-122.5376569,-122.5384982,-122.5400347,-122.5428695],8,null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":false,\"color\":\"white\",\"weight\":5,\"opacity\":0.5,\"fill\":true,\"fillColor\":\"orange\",\"fillOpacity\":0.7},null,null,null,null,[\"Rock:  1 <br/> Date:  2024-03-18\",\"Rock:  2 <br/> Date:  2024-03-18\",\"Rock:  3 <br/> Date:  2024-03-18\",\"Rock:  4 <br/> Date:  2024-03-18\",\"Rock:  5 <br/> Date:  2024-03-18\",\"Rock:  6 <br/> Date:  2024-03-18\",\"Rock:  7 <br/> Date:  2024-03-18\",\"Rock:  8 <br/> Date:  2024-03-18\",\"Rock:  9 <br/> Date:  2024-03-18\",\"Rock:  10 <br/> Date:  2024-03-18\",\"Rock:  11 <br/> Date:  2024-03-18\",\"Rock:  12 <br/> Date:  2024-03-18\"],{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"13px\",\"textOnly\":false,\"style\":{\"font-weight\":\"normal\",\"padding\":\"3px 8px\"},\"className\":\"\",\"sticky\":true},null]}],\"setView\":[[47.31,-122.53],14,[]],\"limits\":{\"lat\":[47.3180886,47.3188023],\"lng\":[-122.5428695,-122.5371926]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n\n```{.r .cell-code}\n# save the widget in a html file if needed.\n# library(htmlwidgets)\n# saveWidget(m, file=paste0( getwd(), \"/HtmlWidget/bubblemapQuakes.html\"))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\r\n<script src=\"../../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\r\n<link href=\"../../../../site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../site_libs/leaflet-1.3.1/leaflet.js\"></script>\r\n<link href=\"../../../../site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../site_libs/proj4-2.6.2/proj4.min.js\"></script>\r\n<script src=\"../../../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\r\n<link href=\"../../../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\r\n<script src=\"../../../../site_libs/leaflet-binding-2.2.1/leaflet.js\"></script>\r\n<script src=\"../../../../site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js\"></script>\r\n<script src=\"../../../../site_libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}